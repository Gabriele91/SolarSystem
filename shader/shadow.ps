uniform sampler2D shadowMap;
varying vec4 shadowCoord;

void main(){

	vec3 shadowCoordinateWdivide = shadowCoord.xyz / shadowCoord.w ;
	shadowCoordinateWdivide.z += 0.000001;
	
	float distanceFromLight = 
	texture2D(shadowMap,shadowCoordinateWdivide.st).z;
	
	
	float shadow = 1.0;
	if (shadowCoord.w > 0.0)
		shadow = distanceFromLight < shadowCoordinateWdivide.z ? 0.0 : 1.0 ;

	gl_FragColor.rgb =	vec3(0.0);
	gl_FragColor.a=shadow< 1.0 ? 0.6 : 0.0;
}